# Utopia

[![Next.js](https://img.shields.io/badge/Next.js-12.2.4-black?style=flat-square&logo=next.js)](https://nextjs.org/)
[![React](https://img.shields.io/badge/React-18.2.0-blue?style=flat-square&logo=react)](https://reactjs.org/)
[![Tailwind CSS](https://img.shields.io/badge/Tailwind_CSS-3.0-38B2AC?style=flat-square&logo=tailwind-css)](https://tailwindcss.com/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg?style=flat-square)](https://opensource.org/licenses/MIT)

åŸºäºNext.jsæ„å»ºçš„ä¸ªäººåšå®¢å’Œæ‘„å½±ä½œå“é›†ï¼Œæ”¯æŒå¢é‡å†…å®¹æ›´æ–°ï¼Œæ— éœ€é‡æ„æ•´ä¸ªç½‘ç«™ã€‚

**ä¸­æ–‡** | **[English](./README.md)**

---

<div align="center">

![ä¸»é¢˜å±•ç¤º](./public/readme-assets/theme-showcase.png)
*æ·±æµ…ä¸»é¢˜ç•Œé¢å±•ç¤º*

![æ‘„å½±ä½œå“é›†å±•ç¤º](./public/readme-assets/photography-showcase.png)
*ç€‘å¸ƒæµå¸ƒå±€çš„æ‘„å½±ä½œå“é›†*

![ç§»åŠ¨ç«¯å±•ç¤º](./public/readme-assets/mobile-showcase.png)
*å“åº”å¼ç§»åŠ¨ç«¯ä½“éªŒ*

</div>

## ä¸»è¦ç‰¹æ€§

- **å¢é‡å†…å®¹æ›´æ–°** - æ·»åŠ æ–°æ–‡ç« æ— éœ€é‡æ„æ•´ä¸ªç½‘ç«™ï¼ˆ1-2ç§’ vs 5-10åˆ†é’Ÿï¼‰
- **åŸºäºæ–‡ä»¶çš„å†…å®¹** - æœ¬åœ°å†™Markdownï¼Œé€šè¿‡è„šæœ¬ä¸Šä¼ 
- **æ‘„å½±ä½œå“é›†** - è‡ªåŠ¨å‘ç°ç›®å½•ä¸­çš„å›¾ç‰‡
- **å…¨æ–‡æœç´¢** - è·¨æ‰€æœ‰å†…å®¹çš„å®æ—¶æœç´¢
- **æ·±è‰²/æµ…è‰²æ¨¡å¼** - è‡ªåŠ¨ä¸»é¢˜åˆ‡æ¢
- **å“åº”å¼è®¾è®¡** - æ”¯æŒæ¡Œé¢ã€å¹³æ¿å’Œç§»åŠ¨è®¾å¤‡

<div align="center">
  <table>
    <tr>
      <td align="center" width="50%">
        <img src="./public/readme-assets/search-feature.gif" height="300" alt="æœç´¢åŠŸèƒ½"/><br/>
        <sub><b>ğŸ” å®æ—¶æœç´¢</b></sub>
      </td>
      <td align="center" width="50%">
        <img src="./public/readme-assets/dark-light-mode.gif" height="300" alt="æ·±æµ…ä¸»é¢˜"/><br/>
        <sub><b>ğŸŒ— æ·±æµ…ä¸»é¢˜åˆ‡æ¢</b></sub>
      </td>
    </tr>
    <tr>
      <td align="center" width="50%">
        <img src="./public/readme-assets/animated-cards.gif" height="300" alt="åŠ¨æ€å¡ç‰‡"/><br/>
        <sub><b>âœ¨ åŠ¨æ€å¡ç‰‡åŠ¨ç”»</b></sub>
      </td>
      <td align="center" width="50%">
        <img src="./public/readme-assets/photo-wall.gif" height="300" alt="ç…§ç‰‡å¢™"/><br/>
        <sub><b>ğŸ–¼ï¸ ç…§ç‰‡å¢™å±•ç¤º</b></sub>
      </td>
    </tr>
  </table>
</div>

## å¿«é€Ÿå¯¹æ¯”

| åŠŸèƒ½       | ä¼ ç»Ÿåšå®¢               | Utopia                 |
| ---------- | ---------------------- | ---------------------- |
| æ·»åŠ æ–°æ–‡ç«  | é‡æ„æ•´ä¸ªç½‘ç«™           | å¢é‡æ›´æ–°               |
| å‘å¸ƒæ—¶é—´   | 5-10åˆ†é’Ÿ               | 1-2ç§’                  |
| åœæœºæ—¶é—´   | 30-60ç§’                | 0ç§’                    |
| å†…å®¹æµç¨‹   | Gitæäº¤ â†’ CI/CD â†’ éƒ¨ç½² | æœ¬åœ°å†™ä½œ â†’ ä¸Šä¼  â†’ ä¸Šçº¿ |

---

## æŠ€æœ¯æ ˆ

- **æ¡†æ¶**: Next.js 12.2.4 + React 18.2.0
- **æ ·å¼**: Tailwind CSS + Ant Design
- **å†…å®¹**: Markdown + å‰ç½®æ•°æ®
- **æœç´¢**: åŸºäºgrepçš„è‡ªå®šä¹‰API
- **å›¾ç‰‡**: å†…ç½®ä¼˜åŒ–å’ŒæœåŠ¡
- **éƒ¨ç½²**: åŸºäºrsyncçš„è‡ªå®šä¹‰è„šæœ¬

---

## é¡¹ç›®ç»“æ„

```
â”œâ”€â”€ components/           # Reactç»„ä»¶
â”‚   â”œâ”€â”€ main/            # åšå®¢ç»„ä»¶
â”‚   â”œâ”€â”€ photo/           # æ‘„å½±ç»„ä»¶
â”‚   â””â”€â”€ util/            # å·¥å…·å‡½æ•°
â”œâ”€â”€ pages/               # Next.jsé¡µé¢
â”‚   â”œâ”€â”€ api/             # APIè·¯ç”±
â”‚   â”œâ”€â”€ photographer/    # æ‘„å½±é¡µé¢
â”‚   â””â”€â”€ [...slug].js    # åŠ¨æ€åšå®¢è·¯ç”±
â”œâ”€â”€ post/                # åšå®¢å†…å®¹ï¼ˆMarkdownï¼‰
â”œâ”€â”€ public/              # é™æ€èµ„æº
â”‚   â”œâ”€â”€ photography/     # ç…§ç‰‡ç”»å»Š
â”‚   â””â”€â”€ .pic/           # å›¾ç‰‡æœåŠ¡
â””â”€â”€ styles/              # å…¨å±€æ ·å¼
```

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js 16+ 
- npm æˆ– yarn

### å®‰è£…

```bash
git clone https://github.com/your-username/utopia.git
cd utopia
npm install
```

### å¼€å‘

```bash
npm run dev          # å¯åŠ¨å¼€å‘æœåŠ¡å™¨ (localhost:3000)
npm run build        # æ„å»ºç”Ÿäº§ç‰ˆæœ¬
npm run start        # å¯åŠ¨ç”Ÿäº§æœåŠ¡å™¨ (localhost:8888)
npm run lint         # è¿è¡Œä»£ç æ£€æŸ¥
```

### å†…å®¹åˆ›ä½œ

#### åšå®¢æ–‡ç« 

1. åœ¨ `/post/` ç›®å½•åˆ›å»º `.md` æ–‡ä»¶ï¼š

```markdown
---
title: "æ–‡ç« æ ‡é¢˜"
date: "2023-12-01"
description: "æ–‡ç« æè¿°"
tags: ["æ ‡ç­¾1", "æ ‡ç­¾2"]
---

# ä½ çš„å†…å®¹
```

2. ä¸Šä¼ åˆ°æœåŠ¡å™¨ï¼š

```bash
npm run upload       # åŒæ­¥æ–‡ä»¶åˆ°æœåŠ¡å™¨
npm run deploy       # å®Œæ•´éƒ¨ç½²å¹¶é‡å¯
```

#### æ‘„å½±ä½œå“

1. æ·»åŠ å›¾ç‰‡åˆ° `/public/photography/content/{åˆ†ç±»}/`
2. è¿è¡Œä¸Šä¼ è„šæœ¬ - ç”»å»Šè‡ªåŠ¨ç”Ÿæˆ

---

## éƒ¨ç½²

é¡¹ç›®åŒ…å«å¤šç§éƒ¨ç½²ç­–ç•¥ï¼š

### å¿«é€Ÿéƒ¨ç½²
```bash
npm run quick-deploy    # æ—¥å¸¸æ›´æ–°çš„å¿«é€Ÿéƒ¨ç½²
```

### ç¨³å®šéƒ¨ç½²  
```bash
npm run simple-deploy   # é€‚ç”¨äºä¸ç¨³å®šç½‘ç»œçš„é¡ºåºåŒæ­¥
```

### æ‰‹åŠ¨éƒ¨ç½²
```bash
npm run upload          # ä»…åŒæ­¥æ–‡ä»¶
npm run deploy          # å®Œæ•´éƒ¨ç½²å¹¶é‡å¯æœåŠ¡å™¨
```

### éƒ¨ç½²è„šæœ¬

| è„šæœ¬               | ä½¿ç”¨åœºæ™¯   | ç‰¹æ€§                  |
| ------------------ | ---------- | --------------------- |
| `quick-deploy.sh`  | æ—¥å¸¸æ›´æ–°   | ä¸€é”®éƒ¨ç½²              |
| `simple-deploy.sh` | ä¸ç¨³å®šç½‘ç»œ | é¡ºåºåŒæ­¥ï¼Œé‡è¯•æœºåˆ¶    |
| `deploy.sh`        | å®Œæ•´éƒ¨ç½²   | æ–‡ä»¶åŒæ­¥ + æœåŠ¡å™¨é‡å¯ |
| `upload.sh`        | ä»…æ–‡ä»¶åŒæ­¥ | å¹¶è¡Œä¸Šä¼ ï¼Œå‹ç¼©ä¼˜åŒ–    |

### æœåŠ¡å™¨é…ç½®

- **æœåŠ¡å™¨**: è‡ªå®šä¹‰VPS
- **ç«¯å£**: 8888ï¼ˆåœ¨package.jsonä¸­é…ç½®ï¼‰
- **è¿›ç¨‹**: é€šè¿‡ `nohup` åå°è¿è¡Œ
- **æ—¥å¿—**: `~/web-server.log`
- **æ–‡ä»¶åŒæ­¥**: rsync + SSH

### ç¯å¢ƒè®¾ç½®

1. åœ¨éƒ¨ç½²è„šæœ¬ä¸­é…ç½®æœåŠ¡å™¨ä¿¡æ¯ï¼š
```bash
SERVER="your-server-ip"
USER="your-username"
PATH="~/web/"
```

2. ç¡®ä¿SSHå¯†é’¥è®¤è¯å·²è®¾ç½®

3. æœåŠ¡å™¨è¦æ±‚ï¼š
   - Node.js 16+
   - PM2æˆ–ç±»ä¼¼è¿›ç¨‹ç®¡ç†å™¨ï¼ˆå¯é€‰ï¼‰

---

## å›¾ç‰‡å¤„ç†

### å›¾ç‰‡ä¸Šä¼ ä¸ä¼˜åŒ–

```bash
./imgUpload.sh image.jpg    # è‡ªåŠ¨è°ƒæ•´å¤§å°å’Œä¼˜åŒ–
```

åŠŸèƒ½ï¼š
- è‡ªåŠ¨è°ƒæ•´è‡³1080pxå®½åº¦
- PNGä½¿ç”¨pngcrushä¼˜åŒ–
- UUIDå‘½åé¿å…å†²çª
- è¾“å‡ºåˆ° `/public/.pic/`

### åŠ¨æ€å›¾ç‰‡æœåŠ¡

- **APIè·¯ç”±**: `/api/images/[...path].js`
- **URLæ¨¡å¼**: `/.pic/*` â†’ `/api/images/*`
- **åŠŸèƒ½**: ç¼“å­˜ã€å®‰å…¨éªŒè¯ã€çƒ­é‡è½½

---

## æœç´¢åŠŸèƒ½

- **åç«¯**: `/api/search` ç«¯ç‚¹
- **æ–¹æ³•**: å¸¦å®‰å…¨çº¦æŸçš„ä¼˜åŒ–grep
- **åŠŸèƒ½**: å®æ—¶æœç´¢ã€é«˜äº®ç»“æœã€è¾“å…¥æ¸…ç†
- **æ€§èƒ½**: è·¨æ‰€æœ‰Markdownå†…å®¹çš„å³æ—¶æœç´¢

---

## æ‘„å½±ç³»ç»Ÿ

- **è‡ªåŠ¨å‘ç°**: æ‰«æ `/public/photography/content/` ç›®å½•
- **åˆ†ç±»**: æŒ‰æ–‡ä»¶å¤¹ç»“æ„ç»„ç»‡
- **ç”»å»Š**: å“åº”å¼ç€‘å¸ƒæµå¸ƒå±€ï¼Œæ”¯æŒç¯ç®±
- **åŠ¨ç”»**: æµç•…æ»šåŠ¨å’Œæ‚¬åœæ•ˆæœ

---

## é…ç½®

### æ ¸å¿ƒé…ç½®æ–‡ä»¶

- `config.local.js` - ç¯å¢ƒç‰¹å®šè®¾ç½®
- `next.config.js` - Next.jsé…ç½®ï¼ŒåŒ…å«å›¾ç‰‡é‡å†™
- `tailwind.config.js` - Tailwind CSSè‡ªå®šä¹‰

### å›¾ç‰‡æœåŠ¡

æ‰€æœ‰å›¾ç‰‡é€šè¿‡å†…ç½®APIè·¯ç”±æœåŠ¡ï¼Œæ¶ˆé™¤å¤–éƒ¨ä¾èµ–ï¼š

```javascript
// config.local.js
const config = {
  domain: 'your-domain.com',
  server: 'your-server-ip:5555',
  pic: '/.pic/'  // ä½¿ç”¨Next.js APIè·¯ç”±
}
```

---

## å†…å®¹å·¥ä½œæµ

### ä¼ ç»Ÿå·¥ä½œæµ
```bash
1. å†™å†…å®¹
2. git add . && git commit
3. git push  
4. ç­‰å¾…CI/CDï¼ˆ5-10åˆ†é’Ÿï¼‰
5. å®Œæ•´ç½‘ç«™é‡æ„
6. éƒ¨ç½²æ•´ä¸ªç½‘ç«™
```

### Utopiaå·¥ä½œæµ
```bash
1. æœ¬åœ°å†™å†…å®¹
2. ./upload.sh post/new-article.md
3. å†…å®¹åœ¨1-2ç§’å†…ä¸Šçº¿
```

---

## è´¡çŒ®

1. Fork ä»“åº“
2. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
3. è¿›è¡Œæ›´æ”¹
4. ä½¿ç”¨ `npm run dev` æœ¬åœ°æµ‹è¯•
5. æäº¤æ‹‰å–è¯·æ±‚

---

## è®¸å¯è¯

MITè®¸å¯è¯ - è¯¦è§ [LICENSE](LICENSE) æ–‡ä»¶ã€‚

---

## è”ç³»

- **é—®é¢˜**: [GitHub Issues](https://github.com/your-username/utopia/issues)
- **è®¨è®º**: [GitHub Discussions](https://github.com/your-username/utopia/discussions)

---

ä½¿ç”¨ Next.js å’Œ â¤ï¸ åˆ¶ä½œ